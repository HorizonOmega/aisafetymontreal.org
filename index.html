<!DOCTYPE html>
<html lang="en" id="html-root">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light dark" />
    <title>AI Safety Montréal — Research, Policy & Community Hub</title>
    <meta name="description"
        content="Montréal's AI safety ecosystem: research labs, policy institutes, and community groups working on reducing AI risks through research, policy, and community." />

    <meta property="og:title" content="AI Safety Montréal — Research, Policy & Community Hub" />
    <meta property="og:description"
        content="Montréal's AI safety ecosystem: research labs, policy institutes, and community groups working on reducing AI risks through research, policy, and community." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://aisafetymontreal.org" />
    <meta property="og:locale" content="en_CA" />
    <meta property="og:locale:alternate" content="fr_CA" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            color-scheme: light dark;
            --font-sans: "Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
            --radius-sm: 6px;
            --radius-md: 10px;
            --radius-lg: 14px;
            --radius-xl: 20px;
            
            /* Light mode (default) */
            --fg: #18181b;
            --fg-muted: #52525b;
            --fg-soft: #71717a;
            --fg-dim: #a1a1aa;
            --bg: #ffffff;
            --bg-subtle: #fafafa;
            --bg-surface: #f4f4f5;
            --bg-elevated: #e4e4e7;
            --bg-header: rgba(255, 255, 255, 0.8);
            --bg-nav-mobile: rgba(250, 250, 250, 0.98);
            --border: #e4e4e7;
            --border-subtle: #f4f4f5;
            --border-hover: #d4d4d8;
            --brand: #6366f1;
            --brand-hover: #4f46e5;
            --brand-muted: #818cf8;
            --brand-subtle: rgba(99, 102, 241, 0.08);
            --brand-soft: rgba(99, 102, 241, 0.12);
            --accent: #6366f1;
            --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-sm: 0 2px 8px 0 rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 16px 0 rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 8px 24px 0 rgba(0, 0, 0, 0.12);
            --shadow-brand: 0 0 0 1px rgba(99, 102, 241, 0.1), 0 2px 12px rgba(99, 102, 241, 0.1);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --fg: #ffffff;
                --fg-muted: #a1a1aa;
                --fg-soft: #71717a;
                --fg-dim: #52525b;
                --bg: #0a0a0b;
                --bg-subtle: #111113;
                --bg-surface: #18181b;
                --bg-elevated: #27272a;
                --bg-header: rgba(10, 10, 11, 0.8);
                --bg-nav-mobile: rgba(24, 24, 27, 0.98);
                --border: #27272a;
                --border-subtle: #1a1a1c;
                --border-hover: #3f3f46;
                --brand: #6366f1;
                --brand-hover: #818cf8;
                --brand-muted: #4f46e5;
                --brand-subtle: rgba(99, 102, 241, 0.1);
                --brand-soft: rgba(99, 102, 241, 0.15);
                --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
                --shadow-sm: 0 2px 8px 0 rgba(0, 0, 0, 0.4);
                --shadow-md: 0 4px 16px 0 rgba(0, 0, 0, 0.5);
                --shadow-lg: 0 8px 24px 0 rgba(0, 0, 0, 0.6);
                --shadow-brand: 0 0 0 1px rgba(99, 102, 241, 0.2), 0 2px 12px rgba(99, 102, 241, 0.15);
            }
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        html,
        body {
            height: 100%;
        }

        body {
            min-height: 100%;
            background: var(--bg);
            color: var(--fg);
            font-family: var(--font-sans);
            font-size: 1rem;
            line-height: 1.7;
            display: flex;
            flex-direction: column;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            font-feature-settings: "cv02", "cv03", "cv04", "cv11";
        }

        main {
            flex: 1 0 auto;
            display: flex;
            flex-direction: column;
            gap: 0;
        }

        a {
            color: inherit;
            text-decoration: none;
        }

        a:hover {
            text-decoration: none;
        }

        img {
            max-width: 100%;
            height: auto;
        }

        .container {
            width: min(100%, 900px);
            margin: 0 auto;
            padding: 0 clamp(1rem, 4vw, 1.5rem);
        }

        .container-wide {
            width: min(100%, 1000px);
            margin: 0 auto;
            padding: 0 clamp(1rem, 4vw, 1.5rem);
        }

        h1,
        h2,
        h3 {
            font-weight: 600;
            letter-spacing: -0.025em;
            color: var(--fg);
        }

        h1 {
            font-size: clamp(2rem, 4.5vw, 2.75rem);
            line-height: 1.15;
            font-weight: 700;
            letter-spacing: -0.03em;
        }

        h2 {
            font-size: clamp(1.5rem, 3.5vw, 2rem);
            line-height: 1.25;
            font-weight: 700;
            letter-spacing: -0.025em;
        }

        h3 {
            font-size: 1.125rem;
            line-height: 1.4;
            font-weight: 600;
        }

        p {
            color: var(--fg-muted);
            max-width: 70ch;
            line-height: 1.7;
        }

        .site-header {
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: saturate(180%) blur(20px);
            background: var(--bg-header);
            border-bottom: 1px solid var(--border-subtle);
        }

        .site-header .container {
            padding-top: 0.75rem;
            padding-bottom: 0.75rem;
        }

        .header-bar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: clamp(1rem, 3vw, 2rem);
        }

        .brand {
            font-weight: 700;
            font-size: 1.125rem;
            letter-spacing: -0.02em;
            color: var(--fg);
            transition: color 0.2s ease;
        }

        .brand:hover {
            color: var(--brand-hover);
        }

        .brand span {
            display: inline-block;
        }

        .main-nav {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-link {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.5rem 1rem;
            border-radius: var(--radius-md);
            font-size: 0.9375rem;
            font-weight: 500;
            color: var(--fg-soft);
            transition: all 0.2s ease;
        }

        .nav-link:hover,
        .nav-link:focus-visible {
            color: var(--fg);
            background: var(--bg-surface);
        }

        .nav-link.active {
            color: var(--fg);
            background: var(--brand-subtle);
            font-weight: 600;
        }

        .lang-toggle {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.25rem;
            border-radius: var(--radius-md);
            border: 1px solid var(--border);
            background: var(--bg-subtle);
        }

        .lang-btn {
            background: transparent;
            border: none;
            padding: 0.375rem 0.75rem;
            border-radius: calc(var(--radius-md) - 2px);
            font-size: 0.8125rem;
            font-weight: 600;
            color: var(--fg-dim);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .lang-btn:hover:not([aria-pressed="true"]) {
            background: var(--bg-surface);
            color: var(--fg-muted);
        }

        .lang-btn[aria-pressed="true"] {
            background: var(--brand);
            color: white;
            box-shadow: var(--shadow-xs);
        }

        .menu-toggle {
            display: none !important;
        }

        section {
            padding: clamp(2rem, 4vw, 2.5rem) 0;
        }

        .hero {
            background: var(--bg);
            padding: clamp(2rem, 4vw, 2.5rem) 0 clamp(1.75rem, 4vw, 2.25rem);
            text-align: center;
            border-bottom: 1px solid var(--border-subtle);
        }

        .hero-content {
            max-width: 640px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            align-items: center;
        }

        .hero h1 {
            margin-bottom: 0;
        }

        .hero-subtitle {
            font-size: 1rem;
            line-height: 1.6;
            color: var(--fg-muted);
            font-weight: 400;
        }

        .hero-meta {
            font-size: 0.875rem;
            color: var(--fg-soft);
            font-weight: 500;
            margin-top: 0;
        }

        #events .section-header {
            text-align: center;
            margin-bottom: 1.25rem;
        }

        .section-subtitle {
            font-size: 0.9375rem;
            color: var(--fg-muted);
            line-height: 1.6;
            margin: 0.5rem auto 0;
            max-width: 65ch;
        }

        .calendar-embed {
            border-radius: var(--radius-lg);
            overflow: hidden;
            border: 1px solid var(--border);
            background: var(--bg-surface);
            margin-bottom: 0.875rem;
        }

        .calendar-embed iframe {
            display: block;
            border: none;
            width: 100%;
            height: 500px;
            background: transparent;
        }

        .calendar-actions {
            display: flex;
            justify-content: center;
            gap: 0.625rem;
            flex-wrap: wrap;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.375rem;
            border-radius: var(--radius-md);
            padding: 0.5rem 1.125rem;
            font-weight: 500;
            font-size: 0.9375rem;
            text-decoration: none;
            transition: all 0.2s ease;
            border: 1px solid transparent;
            cursor: pointer;
        }

        .btn-primary {
            background: var(--brand);
            color: white;
            box-shadow: var(--shadow-xs);
        }

        .btn-primary:hover,
        .btn-primary:focus-visible {
            background: var(--brand-hover);
            transform: translateY(-1px);
            box-shadow: var(--shadow-sm);
        }

        .btn-secondary {
            background: var(--bg-surface);
            color: var(--fg);
            border-color: var(--border);
        }

        .btn-secondary:hover,
        .btn-secondary:focus-visible {
            background: var(--bg-elevated);
            border-color: var(--border-hover);
        }

        #directory {
            background: var(--bg);
        }

        #directory .section-header {
            max-width: 100%;
            margin-bottom: 1.125rem;
            text-align: center;
        }

        .directory-filter {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 1.25rem;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .filter-btn {
            background: var(--bg-surface);
            border: 1px solid var(--border);
            padding: 0.4rem 0.875rem;
            border-radius: var(--radius-md);
            font-size: 0.8125rem;
            font-weight: 500;
            color: var(--fg-soft);
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: inherit;
        }

        .filter-btn:hover {
            background: var(--bg-elevated);
            color: var(--fg);
            border-color: var(--border-hover);
        }

        .filter-btn.active {
            background: var(--brand);
            color: white;
            border-color: var(--brand);
            font-weight: 600;
        }

        .directory-count {
            width: 100%;
            text-align: center;
            font-size: 0.8125rem;
            color: var(--fg-dim);
            margin-top: 0.375rem;
        }

        .directory-list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .directory-card {
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 0.875rem 1rem;
            background: var(--bg-surface);
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            transition: all 0.2s ease;
        }

        .directory-card:hover {
            border-color: var(--border-hover);
            background: var(--bg-elevated);
            box-shadow: var(--shadow-sm);
        }

        .entry-topline {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .entry-name {
            font-weight: 600;
            font-size: 0.9375rem;
            color: var(--fg);
            line-height: 1.4;
            transition: color 0.2s ease;
        }

        .entry-name:hover {
            color: var(--brand-hover);
        }

        .entry-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.375rem;
            align-items: flex-start;
        }

        .entry-tags:empty {
            display: none;
        }

        .tag {
            display: inline-flex;
            align-items: center;
            padding: 0.125rem 0.375rem;
            border-radius: var(--radius-sm);
            font-size: 0.625rem;
            font-weight: 600;
            letter-spacing: 0.03em;
            text-transform: uppercase;
            border: 1px solid transparent;
        }

        .tag-research {
            background: rgba(99, 102, 241, 0.1);
            color: #4f46e5;
            border-color: rgba(99, 102, 241, 0.2);
        }

        .tag-governance-policy {
            background: rgba(168, 85, 247, 0.1);
            color: #7c3aed;
            border-color: rgba(168, 85, 247, 0.2);
        }

        .tag-advocacy {
            background: rgba(239, 68, 68, 0.1);
            color: #dc2626;
            border-color: rgba(239, 68, 68, 0.2);
        }

        .tag-education-training {
            background: rgba(251, 146, 60, 0.1);
            color: #ea580c;
            border-color: rgba(251, 146, 60, 0.2);
        }

        .tag-network-events {
            background: rgba(6, 182, 212, 0.1);
            color: #0891b2;
            border-color: rgba(6, 182, 212, 0.2);
        }

        .tag-standards-assurance {
            background: rgba(34, 197, 94, 0.1);
            color: #16a34a;
            border-color: rgba(34, 197, 94, 0.2);
        }

        @media (prefers-color-scheme: dark) {
            .tag-research {
                background: rgba(99, 102, 241, 0.15);
                color: #a5b4fc;
                border-color: rgba(99, 102, 241, 0.25);
            }

            .tag-governance-policy {
                background: rgba(168, 85, 247, 0.15);
                color: #c084fc;
                border-color: rgba(168, 85, 247, 0.25);
            }

            .tag-advocacy {
                background: rgba(239, 68, 68, 0.15);
                color: #fca5a5;
                border-color: rgba(239, 68, 68, 0.25);
            }

            .tag-education-training {
                background: rgba(251, 146, 60, 0.15);
                color: #fdba74;
                border-color: rgba(251, 146, 60, 0.25);
            }

            .tag-network-events {
                background: rgba(6, 182, 212, 0.15);
                color: #67e8f9;
                border-color: rgba(6, 182, 212, 0.25);
            }

            .tag-standards-assurance {
                background: rgba(34, 197, 94, 0.15);
                color: #86efac;
                border-color: rgba(34, 197, 94, 0.25);
            }
        }

        .entry-desc {
            font-size: 0.9375rem;
            color: var(--fg-muted);
            line-height: 1.6;
        }

        .entry-focus {
            font-size: 0.875rem;
            color: var(--fg-soft);
            font-style: normal;
            line-height: 1.5;
        }

        footer {
            margin-top: auto;
            padding: 1.75rem 0 2rem;
            border-top: 1px solid var(--border-subtle);
            color: var(--fg-soft);
            font-size: 0.8125rem;
            background: var(--bg);
        }

        footer .footer-content {
            text-align: center;
        }

        footer p {
            margin-bottom: 0;
            line-height: 1.6;
            max-width: none;
        }

        footer a {
            color: var(--brand-hover);
            font-weight: 500;
            transition: color 0.2s ease;
        }

        footer a:hover,
        footer a:focus-visible {
            color: var(--brand);
            text-decoration: underline;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 1.25rem;
            margin-top: 0.75rem;
            flex-wrap: wrap;
        }

        .lang-fr {
            display: none !important;
        }

        .lang-en {
            display: inline !important;
        }

        body.french .lang-fr {
            display: inline !important;
        }

        body.french .lang-en {
            display: none !important;
        }

        *:focus-visible {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
        }

        .skip-link {
            position: absolute;
            top: -100px;
            left: 1rem;
            z-index: 10000;
            padding: 0.625rem 1rem;
            background: var(--brand);
            color: white;
            border-radius: var(--radius-md);
            font-weight: 600;
            text-decoration: none;
            font-size: 0.9375rem;
        }

        .skip-link:focus {
            top: 1rem;
        }

        @media (max-width: 768px) {
            .header-bar {
                flex-wrap: wrap;
                gap: 0.75rem;
            }

            .main-nav {
                width: 100%;
                display: flex;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
                gap: 0.375rem;
            }

            .nav-link {
                padding: 0.375rem 0.875rem;
                font-size: 0.875rem;
            }

            .lang-toggle {
                padding: 0.1875rem;
            }

            .lang-btn {
                padding: 0.3125rem 0.625rem;
                font-size: 0.75rem;
            }

            .hero {
                padding: 1.5rem 0 1.25rem;
            }

            section {
                padding: clamp(1.75rem, 4vw, 2rem) 0;
            }

            .calendar-embed iframe {
                height: 450px;
            }

            .directory-card {
                padding: 0.75rem 0.875rem;
            }

            .directory-filter {
                gap: 0.375rem;
            }

            .filter-btn {
                font-size: 0.75rem;
                padding: 0.375rem 0.75rem;
            }
        }

        @media (max-width: 640px) {
            h1 {
                font-size: clamp(1.875rem, 7vw, 2.25rem);
            }

            h2 {
                font-size: clamp(1.5rem, 6vw, 1.875rem);
            }

            .hero-subtitle {
                font-size: 0.9375rem;
            }

            .calendar-embed iframe {
                height: 400px;
            }

            .directory-card {
                padding: 0.625rem 0.75rem;
            }

            .entry-name {
                font-size: 0.875rem;
            }

            .entry-desc {
                font-size: 0.875rem;
            }

            .entry-focus {
                font-size: 0.8125rem;
            }

            .tag {
                font-size: 0.5625rem;
                padding: 0.125rem 0.3125rem;
            }

            .filter-btn {
                font-size: 0.6875rem;
                padding: 0.3125rem 0.625rem;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            html {
                scroll-behavior: auto;
            }

            *,
            *::before,
            *::after {
                animation-duration: 0s !important;
                transition-duration: 0s !important;
            }
        }
    </style>
</head>

<body>
    <a href="#main-content" class="skip-link">
        <span class="lang-en">Skip to main content</span>
        <span class="lang-fr">Aller au contenu principal</span>
    </a>
    <header class="site-header" aria-label="Main">
        <div class="container">
            <div class="header-bar">
                <div class="brand">
                    <span class="lang-en">AI Safety Montréal</span>
                    <span class="lang-fr">Sécurité de l'IA Montréal</span>
                </div>
                <nav class="main-nav" id="main-nav" aria-label="Primary">
                    <a class="nav-link" href="#events"><span class="lang-en">Events</span><span class="lang-fr">Événements</span></a>
                    <a class="nav-link" href="#directory"><span class="lang-en">Organizations</span><span class="lang-fr">Organisations</span></a>
                    <div class="lang-toggle">
                        <button class="lang-btn" id="btn-fr" type="button" aria-pressed="false" aria-label="Français">FR</button>
                        <button class="lang-btn" id="btn-en" type="button" aria-pressed="true" aria-label="English">EN</button>
                    </div>
                </nav>
            </div>
        </div>
    </header>

    <main id="main-content">
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <p class="hero-subtitle">
                        <span class="lang-en">Montréal's hub for AI safety research, policy, and community</span>
                        <span class="lang-fr">Le carrefour montréalais pour la recherche, les politiques et la communauté en sécurité de l'IA</span>
                    </p>
                </div>
            </div>
        </section>

        <section id="events" aria-labelledby="events-heading">
            <div class="container">
                <div class="section-header">
                    <h2 id="events-heading">
                        <span class="lang-en">Events</span>
                        <span class="lang-fr">Événements</span>
                    </h2>
                </div>

                <div class="calendar-embed">
                    <iframe src="https://luma.com/embed/calendar/cal-6mC5Rknn9qtVgom/events" 
                            width="100%" 
                            height="600" 
                            allowfullscreen
                            aria-hidden="false"
                            tabindex="0"></iframe>
                </div>
            </div>
        </section>

        <section id="directory" aria-labelledby="directory-heading">
            <div class="container">
                <div class="section-header">
                    <h2 id="directory-heading">
                        <span class="lang-en">Organizations</span>
                        <span class="lang-fr">Organisations</span>
                    </h2>
                </div>

                <div class="directory-filter">
                    <button class="filter-btn active" data-filter="all">
                        <span class="lang-en">All</span>
                        <span class="lang-fr">Tout</span>
                    </button>
                    <button class="filter-btn" data-filter="academic">
                        <span class="lang-en">Academic</span>
                        <span class="lang-fr">Académique</span>
                    </button>
                    <button class="filter-btn" data-filter="government">
                        <span class="lang-en">Government</span>
                        <span class="lang-fr">Gouvernement</span>
                    </button>
                    <button class="filter-btn" data-filter="nonprofit">
                        <span class="lang-en">Nonprofit</span>
                        <span class="lang-fr">Sans but lucratif</span>
                    </button>
                    <button class="filter-btn" data-filter="community-student">
                        <span class="lang-en">Community/Student</span>
                        <span class="lang-fr">Communauté/Étudiant</span>
                    </button>
                    <span class="directory-count" id="directory-count"></span>
                </div>

                <ul id="directory-list" class="directory-list"></ul>
            </div>
        </section>

    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <p>
                    <span class="lang-en">Community-maintained directory</span>
                    <span class="lang-fr">Annuaire communautaire</span>
                    <span style="margin: 0 0.5rem; opacity: 0.5;">•</span>
                    <span class="lang-en">Last updated: October 31, 2025</span>
                    <span class="lang-fr">Dernière mise à jour : 31 octobre 2025</span>
                </p>
                <p style="margin-top: 0.5rem;">
                    <span class="lang-en">Contact us to contribute to this website, add events, or list your organization</span>
                    <span class="lang-fr">Contactez-nous pour contribuer à ce site, ajouter des événements ou lister votre organisation</span>
                </p>
                <div class="footer-links">
                    <a href="mailto:team@horizonomega.org">
                        <span class="lang-en">Contact</span>
                        <span class="lang-fr">Contact</span>
                    </a>
                    <a href="https://github.com/HorizonOmega/aisafetymontreal.org" target="_blank" rel="noopener noreferrer">GitHub</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        const organizations = [
            { name: "Mila – Québec AI Institute", sector: "academic", activities: ["research"], desc: "Academic deep learning research center with 140+ affiliated professors. Technical alignment, interpretability, responsible AI development.", focus: "Deep learning research, technical alignment, interpretability, responsible AI", url: "https://mila.quebec/en" },
            { name: "Krueger AI Safety Lab (KASL)", sector: "academic", activities: ["research"], desc: "Technical AI safety research group at Mila led by David Krueger. Research in misgeneralization, mechanistic interpretability, and reward specification.", focus: "Technical alignment, misgeneralization, scalable oversight, interpretability, goal misalignment", url: "https://www.kasl.ai" },
            { name: "IVADO — R³AI / R10: AI Safety & Alignment", sector: "academic", activities: ["research"], desc: "Multi-year research program on AI safety across axes: evaluating harmful behaviors, understanding AI decision-making, algorithmic approaches for safe AI.", focus: "AI evaluation, alignment, scalable oversight, evaluating and mitigating LLM biases", url: "https://ivado.ca/en/regroupements/ai-safety-and-alignment/" },
            { name: "LawZero", sector: "nonprofit", activities: ["research"], desc: "Nonprofit AI safety research organization launched by Yoshua Bengio. Focuses on non-agentic 'Scientist AI' architecture as alternative to frontier lab approaches.", focus: "Safe-by-design systems, truth-seeking AI, non-agentic Scientist AI, safety architectures", url: "https://lawzero.org/en" },
            { name: "AI Safety Reading Group (Mila)", sector: "academic", activities: ["research"], desc: "Biweekly research seminar series at Mila inviting authors to present their own AI safety papers.", focus: null, url: "https://mila.quebec/en/prospective-students-postdocs/student-life-and-resources" },
            { name: "Canadian AI Safety Institute (CAISI)", sector: "government", activities: ["research", "governance-policy", "standards-assurance"], desc: "Federal government AI safety institute. Funds research through CIFAR and NRC programs, develops safety tools/guidance. Member of International Network of AI Safety Institutes.", focus: "AI safety research, risk assessment, tools/guidance development", url: "https://cifar.ca/ai/caisi/" },
            { name: "Montréal AI Governance, Ethics & Safety Meetup", sector: "nonprofit", activities: ["network-events"], desc: "Public meetup community hosting talks, workshops, discussions on AI governance, ethics and safety. Co-organized with Horizon Omega.", focus: null, url: "https://luma.com/montreal-ai-safety-ethics-governance?k=c" },
            { name: "PauseAI Montréal", sector: "nonprofit", activities: ["advocacy"], desc: "Volunteer community advocating to mitigate AI risks and pause development of superhuman AI until safe.", focus: "AI risk awareness, policy advocacy for pausing superhuman AI, public education", url: "https://pauseai.ca/montreal.html" },
            { name: "AI Alignment McGill (AIAM)", sector: "community-student", activities: ["education-training", "network-events"], desc: "Student club at McGill focused on AI alignment and safety; organizes reading groups, hackathons and related activities.", focus: null, url: "https://www.alignmentforum.org/groups/TLbuSuKccZThdvDBo" },
            { name: "Horizon Omega (HΩ)", sector: "nonprofit", activities: ["network-events"], desc: "Montréal-based nonprofit hub supporting local AI safety, ethics and governance community through meetups, coworking, workshops and collaborations.", focus: "Ecosystem building, event coordination (GSAI, AISU), community resources, accelerating AI safety R&D", url: "https://www.horizonomega.org/" },
            { name: "Montréal AI Ethics Institute (MAIEI)", sector: "nonprofit", activities: ["governance-policy"], desc: "International non-profit founded 2018 that equips citizens concerned about AI and its societal impacts to take action. Produces AI Ethics Brief and State of AI Ethics reports.", focus: "AI ethics research, educational resources, policy analysis, democratizing AI ethics literacy", url: "https://montrealethics.ai/" },
            { name: "CEIMIA", sector: "nonprofit", activities: ["governance-policy"], desc: "Independent organization managing Montréal hub of GPAI Network of Centres. Implements high-impact applied projects for responsible AI based on ethics and human rights.", focus: "International AI governance, inclusive policy development, multi-stakeholder coordination, manages GPAI Montréal hub", url: "https://ceimia.org/en/" },
            { name: "OBVIA", sector: "academic", activities: ["research", "governance-policy"], desc: "Inter-university observatory on societal impacts of AI. Network of researchers from Quebec institutions publishing research across 7 thematic hubs.", focus: "Societal impacts of AI, policy research, public engagement, interdisciplinary research", url: "https://www.obvia.ca/" },
            { name: "CIFAR — AI & Society", sector: "academic", activities: ["research", "governance-policy"], desc: "Program under Pan-Canadian AI Strategy that convenes interdisciplinary meetings and publishes reports on AI's societal impacts for policymakers and public.", focus: "AI societal impacts, governance frameworks, interdisciplinary research, responsible AI deployment", url: "https://cifar.ca/ai/ai-and-society/" },
            { name: "Encode Canada", sector: "nonprofit", activities: ["education-training"], desc: "Youth-led group that builds AI literacy and early-career capacity through student fellowships, hands-on workshops, public events, and creative programs.", focus: "AI literacy and governance advocacy; workshops and speaker series; 'Ethics Decoded' podcast; public performances like 'System Reboot.'", url: "https://encodecanada.ca/" },
            { name: "McGill Centre for Media, Technology & Democracy (CMTD)", sector: "academic", activities: ["research", "governance-policy"], desc: "Research centre at McGill's Max Bell School focused on AI governance, transparency and democratic oversight. Publishes analyses and convenes workshops informing Canadian and international policy.", focus: "AI & Democracy initiative, facial recognition policy, AIDA analysis, impact assessments, high-risk AI regulation", url: "https://www.mediatechdemocracy.com/" }
        ];

        const activityLabels = {
            "research": "Research",
            "governance-policy": "Governance/Policy",
            "advocacy": "Advocacy",
            "education-training": "Education/Training",
            "network-events": "Network/Events",
            "standards-assurance": "Standards/Assurance"
        };

        const esc = s => s.replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'}[m]));
        const external = url => url.startsWith('http') ? ' target="_blank" rel="noopener noreferrer"' : '';

        const renderDirectory = () => {
            const list = document.getElementById('directory-list');
            list.innerHTML = organizations.map(org => {
                const activityBadges = org.activities.map(a => `<span class="tag tag-${a}">${activityLabels[a] || a}</span>`).join('');
                return `
                <li data-sector="${org.sector}">
                    <div class="directory-card">
                        <div class="entry-topline">
                            <a href="${esc(org.url)}" class="entry-name"${external(org.url)}>${esc(org.name)}</a>
                            <span class="entry-tags">${activityBadges}</span>
                        </div>
                        <div class="entry-desc">${esc(org.desc)}</div>
                        ${org.focus ? `<div class="entry-focus">${esc(org.focus)}</div>` : ''}
                    </div>
                </li>
            `;
            }).join('');
            updateDirectoryCount();
        };

        const updateDirectoryCount = () => {
            const allItems = document.querySelectorAll('#directory-list li[data-sector]');
            const visibleCount = Array.from(allItems).filter(item => item.style.display !== 'none').length;
            const totalCount = organizations.length;
            const countEl = document.getElementById('directory-count');
            if (countEl) {
                countEl.textContent = `${visibleCount} of ${totalCount}`;
            }
        };

        const setLanguage = lang => {
            const isFr = lang === 'fr';
            document.body.classList.toggle('french', isFr);
            document.getElementById('html-root').setAttribute('lang', isFr ? 'fr' : 'en');
            document.getElementById('btn-fr').setAttribute('aria-pressed', String(isFr));
            document.getElementById('btn-en').setAttribute('aria-pressed', String(!isFr));
            try {
                localStorage.setItem('language', lang);
                document.cookie = `lang=${lang}; path=/; max-age=31536000`;
            } catch (e) {}
        };

        // Scroll spy for active navigation
        const setupScrollSpy = () => {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.nav-link[href^="#"]');

            const observerOptions = {
                root: null,
                threshold: 0.3,
                rootMargin: '-20% 0px -70% 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => link.classList.remove('active'));
                        const id = entry.target.id;
                        const activeLink = document.querySelector(`.nav-link[href="#${id}"]`);
                        if (activeLink) activeLink.classList.add('active');
                    }
                });
            }, observerOptions);

            sections.forEach(section => observer.observe(section));
        };

        document.addEventListener('DOMContentLoaded', () => {
            renderDirectory();
            setupScrollSpy();

            try { 
                setLanguage(localStorage.getItem('language') || 'en'); 
            } catch (e) { 
                setLanguage('en'); 
            }
            
            document.getElementById('btn-fr')?.addEventListener('click', () => setLanguage('fr'));
            document.getElementById('btn-en')?.addEventListener('click', () => setLanguage('en'));

            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', e => {
                    const selectedSector = e.currentTarget.dataset.filter;
                    
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    e.currentTarget.classList.add('active');
                    
                    document.querySelectorAll('#directory-list li[data-sector]').forEach(item => {
                        item.style.display = selectedSector === 'all' || item.dataset.sector === selectedSector ? '' : 'none';
                    });
                    
                    const visibleCount = Array.from(document.querySelectorAll('#directory-list li[data-sector]'))
                        .filter(item => item.style.display !== 'none').length;
                    const countEl = document.getElementById('directory-count');
                    if (countEl) {
                        countEl.textContent = `${visibleCount} of ${organizations.length}`;
                    }
                });
            });
        });
    </script>
</body>

</html>
